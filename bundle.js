(()=>{"use strict";var e={891:function(e,t,n){var o,i,a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((o=o.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=2&l[0]?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(6===l[0]&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(e){l=[6,e],o=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.customizeOptionsButtons=t.customizeChatbotInit=t.customizeChatbot=t.customizeElement=t.setStyle=t.updateOptionsButtons=void 0;var d=c(n(911)),s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0",document.head.appendChild(s);var u=document.createElement("link");u.rel="stylesheet",u.href="https://cdn.jsdelivr.net/gh/shibotgit/repo/src/widget.css",document.head.appendChild(u);var m=document.createElement("div");m.className="chatbot";var p=document.createElement("header"),h=document.createElement("h2");h.textContent="Welcome!";var v=document.createElement("span");v.className="close-btn material-symbols-outlined",v.textContent="close";var g=document.createElement("div");g.className="logo",g.innerHTML="To ShiBOT live chat with AI company.<br>We're always online and ready to chat!",p.appendChild(h),p.appendChild(v),p.appendChild(g),m.appendChild(p);var y=document.createElement("ul");y.className="chatbox",y.id="chatbot-container";var b=document.createElement("li");b.className="chat incoming",b.innerHTML='\n        <span class="material-symbols-outlined">\n            smart_toy\n        </span>\n        <p>Hi! How can I help you?</p>\n    ';var f=document.createElement("div");f.className="parent-container";var C=document.createElement("li");C.className="chat quick-reply",C.innerHTML='\n        <button class="quick-reply-button">Choose option</button>\n        <button class="quick-reply-button">Замовити</button>\n        <button class="quick-reply-button">Замовити</button>\n    ',y.appendChild(b),f.appendChild(C),y.appendChild(f),m.appendChild(y);var E=document.createElement("div");E.className="chat-input";var k=document.createElement("textarea");k.placeholder="Введіть повідомлення...",k.required=!0;var j=D("span",["material-symbols-outlined"]);j.id="send-button",j.textContent="send";var L=D("span",["material-symbols-outlined"]);L.id="mood-menu",L.textContent="mood";var T=D("span",["material-symbols-outlined"]);T.id="drop-menu",T.textContent="more_vert",E.appendChild(k),E.appendChild(j),E.appendChild(L),E.appendChild(T),m.appendChild(E);var w=document.createElement("div");w.className="menu",w.id="menu";var B=document.createElement("ul");B.className="menu-ul";var H=D("li",["menu-active"]);H.id="report-issue",H.innerHTML='Report an issue <span class="material-symbols-outlined">flag</span>',B.appendChild(H),w.appendChild(B),m.appendChild(w);var q=document.createElement("div");q.className="emoji-menu menu",q.id="emoji-menu";var x=document.createElement("div");x.className="emoji-div";var M=document.createElement("ul");M.className="emoji-list";var S=D("li",["menu-active"]);S.dataset.emoji="😀",S.innerHTML='<div class="emoji" id="emoji">😀</div>';var N=D("li",["menu-active"]);N.dataset.emoji="😎",N.innerHTML='<div class="emoji" id="emoji">😎</div>';var O=D("li",["menu-active"]);O.dataset.emoji="👍",O.innerHTML='<div class="emoji" id="emoji">👍</div>';var _=D("li",["menu-active"]);_.dataset.emoji="😩",_.innerHTML='<div class="emoji" id="emoji">😩</div>';var R=D("li",["menu-active"]);R.dataset.emoji="😅",R.innerHTML='<div class="emoji" id="emoji">😅</div>';var z=D("li",["menu-active"]);z.dataset.emoji="😍",z.innerHTML='<div class="emoji" id="emoji">😍</div>';var I=D("li",["menu-active"]);I.dataset.emoji="😠",I.innerHTML='<div class="emoji" id="emoji">😠</div>';var A=D("li",["menu-active"]);A.dataset.emoji="🙏",A.innerHTML='<div class="emoji" id="emoji">🙏</div>';var P=D("li",["menu-active"]);function D(e,t){var n=document.createElement(e);return n.className=t.join(" "),n}P.dataset.emoji="👋",P.innerHTML='<div class="emoji" id="emoji">👋</div>',M.appendChild(S),M.appendChild(N),M.appendChild(O),M.appendChild(_),M.appendChild(R),M.appendChild(z),M.appendChild(I),M.appendChild(A),M.appendChild(P),x.appendChild(M),q.appendChild(x),m.appendChild(q),document.body.appendChild(m);var J=D("button",["chatbot-toggler"]),W=D("span",["material-symbols-outlined"]);W.textContent="mode_comment";var G,F=D("span",["material-symbols-outlined"]);F.textContent="close",J.appendChild(W),J.appendChild(F);var K=k.scrollHeight;k&&k.addEventListener("input",(function(){k.style.height="".concat(K,"px"),k.style.height="".concat(k.scrollHeight,"px")}));var Q=function(e,t){var n=document.createElement("li");n.classList.add("chat",t);var o="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';return n.innerHTML=o,n.querySelector("p").textContent=e,n};function U(){var e=document.getElementById("emoji-menu");null==e||e.classList.toggle("visible")}null===(o=document.getElementById("drop-menu"))||void 0===o||o.addEventListener("click",(function(){var e=document.getElementById("menu");null==e||e.classList.toggle("visible")})),null===(i=document.getElementById("mood-menu"))||void 0===i||i.addEventListener("click",U),document.querySelectorAll(".menu-active[data-emoji]").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-emoji");t&&(k.value+=t,U())}))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("report-issue").addEventListener("click",(function(){alert("Report an issue clicked")}))})),k&&k.addEventListener("keydown",(function(e){"Enter"===e.key&&!e.shiftKey&&window.innerWidth>800&&(e.preventDefault(),X())}));var V=!1;function X(){return r(this,void 0,void 0,(function(){var e,t,n,o,i,a,r;return l(this,(function(l){switch(l.label){case 0:G=k.value,k.value="",k.style.height="".concat(K,"px"),y.appendChild(Q(G,"outgoing")),y.scrollTo(0,y.scrollHeight),e=Q("Thinking...","incoming"),t=e.querySelector("p"),y.appendChild(e),y.scrollTo(0,y.scrollHeight),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,(0,d.default)("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:G})})];case 2:return[4,l.sent().json()];case 3:return n=l.sent(),t.textContent=n.response,o=Q(n.response,"incoming"),y.replaceChild(o,e),y.scrollTo(0,y.scrollHeight),[3,5];case 4:return i=l.sent(),console.error("Error:",i),a=Q("Error occurred. Please try again.","incoming"),y.replaceChild(a,e),y.scrollTo(0,y.scrollHeight),[3,5];case 5:return V||((r=document.createElement("div")).classList.add("rating-container"),y.appendChild(r),setTimeout((function(){var e=Q("How would you rate this conversation? Choose emoji:","incoming");e.classList.add("rating-message");var t=document.createElement("div");t.classList.add("emoji-buttons"),["😃","😐","😞"].forEach((function(e){var n=document.createElement("button");n.classList.add("emoji-button"),n.innerText=e,n.addEventListener("click",(function(){var t=Q("Ви оцінили розмову як: ".concat(e),"incoming");y.appendChild(t),y.scrollTo(0,y.scrollHeight)})),t.appendChild(n)})),e.appendChild(t),r.appendChild(e),y.scrollTo(0,y.scrollHeight),V=!0}),3e3)),[2]}}))}))}function Y(e){var t=document.createElement("li");t.className="chat.quick-reply",e.text&&(t.innerHTML="",e.text.forEach((function(n,o){var i="quick-reply-button-".concat(o),a=document.createElement("button");a.className="quick-reply-button",a.textContent=n,a.id=i,t.appendChild(a),a.addEventListener("click",(function(){var t,n,a=null===(t=e.buttonMessages)||void 0===t?void 0:t[i],r=void 0!==a?a:"Button ".concat(o+1," clicked");(n=Q(r,"incoming")).querySelector("p"),y.appendChild(n),y.scrollTo(0,y.scrollHeight)}))}))),e.quickReplyButtonBackground&&(t.style.background=e.quickReplyButtonBackground);for(var n=document.querySelectorAll(".quick-reply-button"),o=0;o<n.length-1;o++){var i=n[o];e.quickReplyButtonBackground&&(i.style.background=e.quickReplyButtonBackground),e.quickReplyButtonBorderBottom&&(i.style.borderBottom=e.quickReplyButtonBorderBottom)}var a=n[n.length-1];e.quickReplyButtonBackground&&(a.style.background=e.quickReplyButtonBackground),a.style.borderBottom="none"}function Z(e,t){Object.assign(e.style,t)}function $(e,t){var n=document.querySelector(e);n&&Z(n,t)}function ee(e){var t,n,o,i;$(".chatbot",{background:e.chatbotBackground}),$(".chatbot-toggler",{background:e.chatbotTogglerBackground,right:null===(t=e.chatbotTogglerPosition)||void 0===t?void 0:t.right,bottom:null===(n=e.chatbotTogglerPosition)||void 0===n?void 0:n.bottom,height:null===(o=e.chatbotTogglerSize)||void 0===o?void 0:o.height,width:null===(i=e.chatbotTogglerSize)||void 0===i?void 0:i.width});var a=document.querySelector("h2");a&&e.headerMessage&&(a.innerHTML=e.headerMessage);var r=document.querySelector(".logo");r&&e.logoContent&&(r.innerHTML=e.logoContent)}function te(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);ee(a(a({},{}),n))}function ne(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);Y(a(a({},{}),n))}j.addEventListener("click",X),J.addEventListener("click",(function(){return document.body.classList.toggle("show-chatbot")})),v.addEventListener("click",(function(){return document.body.classList.remove("show-chatbot")})),t.updateOptionsButtons=Y,t.setStyle=Z,t.customizeElement=$,t.customizeChatbot=ee,t.customizeChatbotInit=te,t.customizeOptionsButtons=ne,document.addEventListener("DOMContentLoaded",(function(){te(),ne()}))},911:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(891)})();